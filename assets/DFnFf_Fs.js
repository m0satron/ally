import{_ as V}from"./CrhgAcVW.js";import{_ as $}from"./BtEBIAU1.js";import{_ as w}from"./CbT5u5fP.js";import{m as z,s as v,n as G,p as h,r as M,c as _,a as f,u as s,b as k,v as C,F as x,y as B,q as y,o as a,I as q,z as E,_ as L}from"./Czt5zaSC.js";import{u as S}from"./DiFsIU2o.js";import{u as b}from"./4q8ORZsQ.js";import{u as T}from"./Bt8rctye.js";const O={class:"main"},R={class:"search-container"},j={key:0,class:"search-container__text-content"},A={class:"chips"},H={class:"content-wrapper"},J=z({__name:"index",setup(K){const{locale:c}=v(S()),{pages:d}=v(b()),{getStaticPage:I}=b(),{cases:m}=v(T()),{getCases:N}=T(),{getBuildingBlockCategories:P}=S();G(async()=>await Promise.all([P(),N(),I("cases")]));const p=h(()=>{var i,r,l;if(!d.value.cases)return null;const e=(i=d.value.cases)==null?void 0:i.title[c.value],n=(l=(r=d.value.cases)==null?void 0:r.content)==null?void 0:l.map(t=>t[c.value]);return{title:e,content:n}}),g=h(()=>m.value?o.value.length?m.value.filter(e=>e.building_blocks_used.some(({category:n})=>o.value.includes(n.slug))):m.value:[]);function D(e){const n=o.value.indexOf(e);n>-1?o.value.splice(n,1):o.value.push(e)}const o=M([]),F=[{label:"Governance & values",value:"governance_values"},{label:"Culture & skills",value:"culture_skills"},{label:"Communication & involvement",value:"communication_involvement"},{label:"Methods & processes",value:"methods_processes "}];return(e,n)=>{const i=V,r=$,l=w;return a(),_("main",O,[f("div",R,[s(p)?(a(),_("div",j,[k(i,{html:"",onDark:"",title:s(p).title,description:s(p).content[0]},null,8,["title","description"])])):C("",!0)]),f("div",A,[(a(),_(x,null,B(F,({label:t,value:u})=>k(r,{key:u,label:t,class:q(s(o).includes(u)?"selected":""),onClick:()=>D(u)},null,8,["label","class","onClick"])),64))]),f("div",H,[(a(!0),_(x,null,B(s(g),t=>(a(),y(l,{key:t.id,title:t.title[s(c)],description:t.description[s(c)],url:t.id,onClick:u=>("navigateTo"in e?e.navigateTo:s(E))(`/cases/${t.id}`)},null,8,["title","description","url","onClick"]))),128)),s(g).length?C("",!0):(a(),y(l,{key:0,title:"Not found",description:"Try another search filter"}))])])}}}),te=L(J,[["__scopeId","data-v-3c8d0d8d"]]);export{te as default};
