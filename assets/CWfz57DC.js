import{N as v,r as u}from"./BLcmtekx.js";var d="/",j=(e,t)=>(e.endsWith(d)&&(e=e.slice(0,-1)),t.startsWith(d)||(t=d+t),e+t),_=(e,t,r)=>{let s=e.pathname===d?t:j(e.pathname,t),i=new globalThis.URL(s,e);if(r)for(let[n,o]of Object.entries(R(r)))if(o&&typeof o=="object"&&!Array.isArray(o))for(let[a,c]of Object.entries(o))i.searchParams.set(`${n}[${a}]`,String(c));else i.searchParams.set(n,o);return i};function k(e){return typeof e!="object"||!e?!1:"headers"in e&&"ok"in e&&"json"in e&&typeof e.json=="function"&&"text"in e&&typeof e.json=="function"}async function S(e){var t;if(!(typeof e!="object"||!e)){if(k(e)){let r=(t=e.headers.get("Content-Type"))==null?void 0:t.toLowerCase();if(r!=null&&r.startsWith("application/json")||r!=null&&r.startsWith("application/health+json")){let s=await e.json();if(!e.ok)throw s;return"data"in s?s.data:s}if(r!=null&&r.startsWith("text/html")||r!=null&&r.startsWith("text/plain")){let s=await e.text();if(!e.ok)throw s;return s}return e}return"data"in e?e.data:e}}var C=async(e,t,r=globalThis.fetch)=>(t.headers=typeof t.headers=="object"&&!Array.isArray(t.headers)?t.headers:{},r(e,t).then(s=>S(s).catch(i=>{let n=typeof i=="object"&&"errors"in i?i.errors:i;return Promise.reject({errors:n,response:s})}))),y={fetch:globalThis.fetch,WebSocket:globalThis.WebSocket,URL:globalThis.URL,logger:globalThis.console},T=(e,t={})=>{let r=t.globals?{...y,...t.globals}:y;return{globals:r,url:new r.URL(e),with(s){return{...this,...s(this)}}}};function B(e){return["directus_access","directus_activity","directus_collections","directus_fields","directus_files","directus_folders","directus_migrations","directus_permissions","directus_policies","directus_presets","directus_relations","directus_revisions","directus_roles","directus_sessions","directus_settings","directus_users","directus_webhooks","directus_dashboards","directus_panels","directus_notifications","directus_shares","directus_flows","directus_operations","directus_translations","directus_versions","directus_extensions"].includes(e)}var O=e=>{let t=(r,s=[])=>{if(typeof r=="object"){let i=[];for(let n in r){let o=r[n]??[];if(Array.isArray(o))for(let a of o)i.push(t(a,[...s,n]));else if(typeof o=="object")for(let a of Object.keys(o)){let c=o[a];for(let p of c)i.push(t(p,[...s,`${n}:${a}`]))}}return i.flatMap(n=>n)}return[...s,String(r)].join(".")};return e.flatMap(r=>t(r))},R=e=>{let t={};Array.isArray(e.fields)&&e.fields.length>0&&(t.fields=O(e.fields).join(",")),e.filter&&Object.keys(e.filter).length>0&&(t.filter=JSON.stringify(e.filter)),e.search&&(t.search=e.search),"sort"in e&&e.sort&&(t.sort=typeof e.sort=="string"?e.sort:e.sort.join(",")),typeof e.limit=="number"&&e.limit>=-1&&(t.limit=String(e.limit)),typeof e.offset=="number"&&e.offset>=0&&(t.offset=String(e.offset)),typeof e.page=="number"&&e.page>=1&&(t.page=String(e.page)),e.deep&&Object.keys(e.deep).length>0&&(t.deep=JSON.stringify(e.deep)),e.alias&&Object.keys(e.alias).length>0&&(t.alias=JSON.stringify(e.alias)),e.aggregate&&Object.keys(e.aggregate).length>0&&(t.aggregate=JSON.stringify(e.aggregate)),e.groupBy&&e.groupBy.length>0&&(t.groupBy=e.groupBy.join(","));for(let[r,s]of Object.entries(e))r in t||(typeof s=="string"||typeof s=="number"||typeof s=="boolean"?t[r]=String(s):t[r]=JSON.stringify(s));return t},g=(e,t)=>{if(e.length===0)throw new Error(t)},w=(e,t)=>{if(B(String(e)))throw new Error(t)},A=(e,t)=>()=>(g(String(e),"Collection cannot be empty"),w(e,"Cannot use readItems for core collections"),{path:`/items/${e}`,params:t??{},method:"GET"}),q=(e,t,r)=>()=>(g(String(e),"Collection cannot be empty"),w(e,"Cannot use readItem for core collections"),g(String(t),"Key cannot be empty"),{path:`/items/${e}/${t}`,params:r??{},method:"GET"}),W={},$=(e={})=>t=>{let r={...W,...e};return{async request(s){let i=s();if(i.headers||(i.headers={}),"Content-Type"in i.headers?i.headers["Content-Type"]==="multipart/form-data"&&delete i.headers["Content-Type"]:i.headers["Content-Type"]="application/json","getToken"in this){let c=await this.getToken();c&&(i.headers||(i.headers={}),i.headers.Authorization=`Bearer ${c}`)}let n=_(t.url,i.path,i.params),o={method:i.method??"GET",headers:i.headers??{}};"credentials"in r&&(o.credentials=r.credentials),i.body&&(o.body=i.body),i.onRequest&&(o=await i.onRequest(o)),r.onRequest&&(o=await r.onRequest(o));let a=await C(n.toString(),o,t.globals.fetch);return"onResponse"in i&&(a=await i.onResponse(a,o)),"onResponse"in e&&(a=await e.onResponse(a,o)),a}}};const b=T("https://fari-cms.directus.app").with($()),x=v("global",()=>{const e=u("en"),t=u(null),r=u(!1),s=u(),i=u(),n=u({title:{en:"Unsure where your journey starts?",nl:"Weet u niet zeker waar uw reis begint?",fr:"Vous ne savez pas où commence votre voyage ?"},description:{en:"Check what policy actions have priority on your path towards an ethical policy on AI",nl:"Controleer welke beleidsmaatregelen prioriteit hebben op uw pad naar een ethisch beleid inzake AI",fr:"Vérifiez quelles actions politiques sont prioritaires sur votre chemin vers une politique éthique sur l'IA"},action:{label:{en:"Discover your own path",nl:"Ontdek je eigen pad",fr:"Découvrez votre propre chemin"},url:""}});function o(l){e.value=l}async function a(){const l=await b.request(A("ally_category",{fields:["*.*"]}));s.value=l.map(m)}async function c(l){if(!l)return null;const f=await b.request(q("ally_category",l,{fields:["*.*"]})),h=m(f);return i.value=h,i.value}async function p(l){if(!l)return null;if(i.value&&i.value.slug===l)return i.value;if(!i.value)return await c(l);if(s.value){const f=s.value.find(h=>h.slug===l);return f?i.value=f:await c(l),i.value}else return await c(l)}return{locale:e,buildingBlockCategories:s,error:t,loading:r,selectedCategory:i,setLocale:o,getBuildingBlockCategories:a,getBuildingBlockCategory:c,findBuildingBlockCategory:p,banner:n}});function m({slug:e,translations:t}){const r={slug:e,title:{},description:{}};return t.forEach(({languages_code:s,title:i,description:n})=>{r.title[s]=i,r.description[s]=n}),r}export{q as N,$ as R,T as l,x as u,A as w};
