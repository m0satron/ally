import{l as u,R as d,N as l}from"./CWfz57DC.js";import{N as g,O as h}from"./BLcmtekx.js";const p=u("https://fari-cms.directus.app").with(d()),S=g("staticPage",()=>{const n=h({});async function r(t){let a=null;const e=await p.request(l("ally_static_page",t,{fields:["*.*"]}));e.hero&&e.hero.key&&(a=await p.request(l("ally_hero",e.hero.key,{fields:["*.*","*,image"]})));const{translations:s}=e,i=y({translations:s,slug:t,hero:a});return n[t]=i,e}return{getStaticPage:r,pages:n}});function y({translations:n,slug:r,hero:t}){const a={slug:r,hero:null,title:{},sections:[],content:[]},e={media:"",title:{},description:{}};return t&&t.image.filename_disk&&(e.media=`https://fari-cms.directus.app/assets/${t==null?void 0:t.image.filename_disk}`,t.translations.forEach(({languages_code:s,title:i,description:o})=>{e.title[s]=i,e.description[s]=o}),a.hero=e),n.forEach(({languages_code:s,title:i,section_1:o,section_2:f,section_3:m})=>{[o,f,m].forEach(c=>c&&a.content.push({[s]:c})),a.title[s]=i}),console.log({page:a}),a}export{S as u};
